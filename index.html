<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>APZOK 2D House Plan Designer</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>

<div class="app-shell">

<div class="toolbar">
    <button class="tool-btn" data-tool="settings" aria-label="Settings">
        <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_91139ebc0ad44fe38aad272fdbee8d06.svg" alt="">
        <span class="tool-label">Settings</span>
    </button>

    <div class="project-menu">
        <button id="uploadProject" class="tool-btn secondary-btn" type="button" aria-label="Upload Project">
            <span class="tool-icon text-icon">‚§¥</span>
            <span class="tool-label">Upload Project</span>
        </button>
        <button id="saveProject" class="tool-btn secondary-btn" type="button" aria-label="Save Project">
            <span class="tool-icon text-icon">üíæ</span>
            <span class="tool-label">Save Project</span>
        </button>
        <input id="projectFileInput" class="hidden" type="file" accept=".ipynb" aria-label="Upload .ipynb project file">
        <button id="openXmlConverter" class="tool-btn secondary-btn" type="button" aria-label="Convert XML to project">
            <span class="tool-icon text-icon">‚¨ÜÔ∏è</span>
            <span class="tool-label">XML Converter</span>
        </button>
        <button id="downloadPdf" class="tool-btn secondary-btn" type="button" aria-label="Download plan as PDF">
            <span class="tool-icon text-icon">‚¨á</span>
            <span class="tool-label">Download PDF</span>
        </button>
    </div>

    <button class="tool-btn" data-tool="select" aria-label="Select">
        <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_e8cd6441615c4fd39976a3812469b223.svg" alt="">
        <span class="tool-label">Select</span>
    </button>
    <button class="tool-btn" data-tool="wall" aria-label="Wall">
        <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_38c6c46a65fd49a783dfbfd974740b0a.svg" alt="">
        <span class="tool-label">Wall</span>
    </button>
    <button class="tool-btn" data-tool="door" aria-label="Door">
        <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_735e93c7dd2a4ef9969fb3bf1094e1b7.svg" alt="">
        <span class="tool-label">Door</span>
    </button>

    <!-- NEW ‚Äî Door Type Dropdown -->
    <select id="doorType">
        <option value="normal">Normal Door (3 ft)</option>
        <option value="main">Main Door (3 ft 6 in)</option>
        <option value="bathroom">Bathroom Door (2 ft 6 in)</option>
        <option value="rollingShutter">Rolling Shutter (7ft)</option>
        <option value="slidingDoor">Sliding Door (7ft)</option>
    </select>

    <button class="tool-btn" data-tool="window" aria-label="Window">
        <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_0a3b507cf3fc427eaab066301a920e5c.svg" alt="">
        <span class="tool-label">Window</span>
    </button>
    <button class="tool-btn" data-tool="floor" aria-label="Floor Fill">
        <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_3c3ccac3849f432ab3f23ea24547af8c.svg" alt="">
        <span class="tool-label">Floor Fill</span>
    </button>
    <button class="tool-btn" data-tool="furniture" aria-label="Furniture">
        <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_7ad998836ddb4a5ead990a30f61fda01.svg" alt="">
        <span class="tool-label">Furniture</span>
    </button>
    <button class="tool-btn" data-tool="staircase" aria-label="Staircase">
        <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_0f8bb41d89fe42488e1352df56340e45.svg" alt="">
        <span class="tool-label">Staircase</span>
    </button>
    <button class="tool-btn" data-tool="directline" aria-label="Direct Line">
        <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_407956fc7daf45d3803b4db9869a74e2.svg" alt="">
        <span class="tool-label">Direct Line</span>
    </button>
    <button class="tool-btn" data-tool="text" aria-label="Text">
        <span class="tool-icon text-icon">T</span>
        <span class="tool-label">Text</span>
    </button>
    <button class="tool-btn" data-tool="dimension" aria-label="Dimension">
        <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_30f8437bfae148a38aca059207dc1ce2.svg" alt="">
        <span class="tool-label">Dimension</span>
    </button>

    <button class="tool-btn" data-tool="pan" aria-label="Pan">
        <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_7fd823218d7b425593c311435c84c9bf.svg" alt="">
        <span class="tool-label">Pan</span>
    </button>
    <button class="tool-btn" data-tool="erase" aria-label="Erase">
        <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_e9f15f1981cc43afbf920fdbc9bda6ba.svg" alt="">
        <span class="tool-label">Erase</span>
    </button>

    <div class="transform-menu">
        <button id="rotateLeft" class="tool-btn secondary-btn" type="button" aria-label="Rotate Left">
            <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_74c75a751d214630a1839c167822df96.svg" alt="">
            <span class="tool-label">Rotate Left</span>
        </button>
        <button id="rotateRight" class="tool-btn secondary-btn" type="button" aria-label="Rotate Right">
            <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_74c75a751d214630a1839c167822df96.svg" alt="">
            <span class="tool-label">Rotate Right</span>
        </button>
        <button id="flipHorizontal" class="tool-btn secondary-btn" type="button" aria-label="Flip Horizontal">
            <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_b6a1fcb25d8743448091bf5d741f9eb1.svg" alt="">
            <span class="tool-label">Flip Horizontal</span>
        </button>
        <button id="flipVertical" class="tool-btn secondary-btn" type="button" aria-label="Flip Vertical">
            <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_590fe3b2279c4af9871b4cd3575104e4.svg" alt="">
            <span class="tool-label">Flip Vertical</span>
        </button>
    </div>

    <div class="view-menu">
        <span class="transform-title">Zoom</span>
        <button id="zoomOut" class="tool-btn secondary-btn" type="button" aria-label="Zoom Out">
            <span class="tool-icon text-icon">‚àí</span>
            <span class="tool-label">Zoom Out</span>
        </button>
        <button id="zoomIn" class="tool-btn secondary-btn" type="button" aria-label="Zoom In">
            <span class="tool-icon text-icon">+</span>
            <span class="tool-label">Zoom In</span>
        </button>
    </div>

    <button id="openUserGuide" class="tool-btn" type="button" aria-label="User Guide">
        <img class="tool-icon" src="https://static.wixstatic.com/shapes/602ad4_ed51627557c44586b66fcc754c814e05.svg" alt="">
        <span class="tool-label">User Guide</span>
    </button>

    <div class="toolbar-spacer"></div>
</div>

<div class="properties">
    <div class="property-group">
        <label for="layerSelect">Layers</label>
        <select id="layerSelect"></select>
        <button id="addLayerButton" type="button">+ Floor</button>
        <button id="editLayersButton" type="button">Edit</button>
    </div>

    <div class="property-group" data-contexts="wall">
        <label>Wall Thickness</label>
        <div class="property-input-row">
            <input id="wallThicknessFeet" type="number" value="0"> ft
            <input id="wallThicknessInches" type="number" value="6"> in
        </div>
    </div>

    <div class="property-group" data-contexts="wall,door,window,staircase,furniture,dimension,directline,select,erase,pan">
        <label>Line Width</label>
        <input id="lineWidth" type="number" value="2">
    </div>

    <div class="property-group" data-contexts="wall,door,window,staircase,furniture,dimension,directline,select,erase,pan">
        <label>Line Color</label>
        <div class="property-input-row">
            <input id="lineColor" type="color" value="#000000">
            <span id="lineColorPreview"></span>
        </div>
    </div>

    <div class="property-group" data-contexts="text">
        <label>Text Color</label>
        <input id="textColor" type="color" value="#000000">
    </div>

    <div class="property-group" data-contexts="text">
        <label>Text Style</label>
        <div class="property-input-row">
            <button id="textBold" type="button" class="pill-btn">B</button>
            <button id="textItalic" type="button" class="pill-btn">I</button>
            <button id="textFontDecrease" type="button" class="pill-btn">A‚àí</button>
            <button id="textFontIncrease" type="button" class="pill-btn">A+</button>
        </div>
    </div>

    <div class="property-group" data-contexts="wall">
        <label>Measurements</label>
        <div class="property-input-row">
            <button id="measurementFontDecrease" type="button" class="pill-btn">A‚àí</button>
            <button id="measurementFontIncrease" type="button" class="pill-btn">A+</button>
        </div>
    </div>

    <div class="property-group" data-contexts="floor">
        <label>Fill</label>
        <div class="property-input-row">
            <input id="fillColor" type="color" value="#d9d9d9">
            <span id="fillColorPreview"></span>
        </div>
    </div>

    <div class="property-group" data-contexts="wall,door,window,staircase,furniture,floor,dimension,directline,select,erase,pan">
        <label>Grid Size</label>
        <input id="gridSize" type="number" value="20">
    </div>

    <div class="property-group inline" data-contexts="wall,door,window,staircase,furniture,floor,dimension,directline,select,erase,pan">
        <label class="checkbox"><input type="checkbox" id="showDimensions" checked> Show Dimensions</label>
    </div>

    <div class="property-group inline" data-contexts="wall,door,window,staircase,furniture,floor,dimension,directline,select,erase,pan">
        <label class="checkbox"><input type="checkbox" id="snapToGrid" checked> Snap to grid</label>
        <span id="precisionStatus" class="status-pill" aria-live="polite">Snap: ON</span>
    </div>

    <div class="property-group button-row" data-contexts="wall,door,window,staircase,furniture,floor,dimension,directline,select,erase,pan">
        <button id="toggleGrid">Toggle Grid</button>
        <button id="toggleBackgroundImage" class="hidden">Hide Background Image</button>
    </div>
</div>

<div class="canvas-shell">
    <div class="canvas-container">
        <canvas id="horizontalRuler" class="ruler ruler-horizontal" aria-hidden="true"></canvas>
        <canvas id="verticalRuler" class="ruler ruler-vertical" aria-hidden="true"></canvas>
        <canvas id="drawingCanvas" width="1800" height="1200"></canvas>
    </div>
</div>

<div class="coordinates">X: 0, Y: 0</div>

</div>

<div id="userGuideModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="userGuideTitle">
    <div class="modal-content user-guide-modal">
        <div class="modal-header">
            <div>
                <h3 id="userGuideTitle">Tool User Guide</h3>
                <p class="modal-subtitle">Browse every drawing control, learn what it does, and explore usage tips.</p>
            </div>
            <div class="user-guide-search">
                <label for="userGuideSearch" class="sr-only">Search tools</label>
                <input id="userGuideSearch" type="search" placeholder="Search by keyword" aria-label="Search tools by keyword">
                <span class="search-hint">Filter by tool name, task, or material keyword.</span>
            </div>
        </div>

        <div id="userGuideList" class="user-guide-body" aria-live="polite"></div>

        <div class="modal-actions">
            <button id="closeUserGuide" class="tool-btn secondary-btn" type="button">Close</button>
        </div>
    </div>
</div>

<div id="settingsModal" class="modal hidden">
    <div class="modal-content">
        <h3>Drawing Settings</h3>
        <p class="modal-subtitle">Quickly adjust grid helpers and floor visibility.</p>

        <label class="modal-label checkbox"><input type="checkbox" id="settingsSnapToGrid"> Snap to grid</label>
        <label class="modal-label checkbox"><input type="checkbox" id="settingsShowDimensions"> Show dimensions</label>

        <label class="modal-label" for="settingsGridSize">Grid size (px)</label>
        <input id="settingsGridSize" type="number" min="2" step="1" value="20">

        <label class="modal-label" for="layerTransparency">Below-floor transparency</label>
        <div class="modal-input-row">
            <input id="layerTransparency" type="range" min="0" max="100" value="20">
            <span id="layerTransparencyValue" class="settings-value">20%</span>
        </div>

        <div class="modal-actions">
            <button id="closeSettingsModal" class="tool-btn secondary-btn" type="button">Close</button>
        </div>
    </div>
</div>

<div id="textModal" class="modal hidden">
    <div class="modal-content">
        <h3>Enter Text</h3>
        <input id="textModalInput" type="text" value="New label" aria-label="Enter text" />
        <div class="modal-actions">
            <button id="textModalConfirm" class="tool-btn" type="button">Add Text</button>
            <button id="textModalCancel" class="tool-btn secondary-btn" type="button">Cancel</button>
        </div>
    </div>
</div>

<div id="pdfOptionsModal" class="modal hidden">
    <div class="modal-content pdf-modal">
        <h3>Download PDF</h3>
        <p class="modal-subtitle">Set details for each page and choose a paper size.</p>

        <div class="modal-body pdf-modal-body">
            <label class="modal-label" for="pdfBusinessName">Business Name</label>
            <input id="pdfBusinessName" type="text" placeholder="Enter business name" />

            <label class="modal-label" for="pdfDesignerName">Designer Name</label>
            <input id="pdfDesignerName" type="text" placeholder="Enter designer name" />

            <label class="modal-label" for="pdfMobileNumber">Mobile Number</label>
            <input id="pdfMobileNumber" type="text" placeholder="Enter mobile number" />

            <label class="modal-label" for="pdfClientName">Client Name</label>
            <input id="pdfClientName" type="text" placeholder="Enter client name" />

            <label class="modal-label" for="pdfClientAddress">Client Address</label>
            <input id="pdfClientAddress" type="text" placeholder="Enter client address" />

            <label class="modal-label" for="pdfClientMobile">Client Mobile Number</label>
            <input id="pdfClientMobile" type="text" placeholder="Enter client mobile number" />

            <label class="modal-label" for="pdfHeader">Header</label>
            <input id="pdfHeader" type="text" placeholder="Enter header text" />

            <label class="modal-label" for="pdfFooter">Footer</label>
            <input id="pdfFooter" type="text" placeholder="Enter footer text" />

            <label class="modal-label" for="pdfFormat">Page Format</label>
            <select id="pdfFormat">
                <option value="a4">A4</option>
                <option value="letter">Letter</option>
                <option value="legal">Legal</option>
                <option value="a3">A3</option>
            </select>

            <label class="modal-label" for="pdfOrientation">Page Orientation</label>
            <select id="pdfOrientation">
                <option value="auto">Auto (match drawing)</option>
                <option value="portrait">Portrait</option>
                <option value="landscape">Landscape</option>
            </select>
        </div>

        <div class="modal-actions">
            <button id="pdfDownloadConfirm" class="tool-btn" type="button">Download</button>
            <button id="pdfDownloadCancel" class="tool-btn secondary-btn" type="button">Cancel</button>
        </div>
    </div>
</div>

<div id="layerManagerModal" class="modal hidden">
    <div class="modal-content">
        <h3>Manage Floors</h3>
        <p class="modal-subtitle">Rename or delete floors. Deleting a floor removes all drawings on it.</p>
        <div id="layerList" class="layer-list"></div>
        <div class="modal-actions">
            <button id="closeLayerManager" class="tool-btn secondary-btn" type="button">Close</button>
        </div>
    </div>
</div>

<div id="layerRenameModal" class="modal hidden">
    <div class="modal-content">
        <h3>Rename Floor</h3>
        <p class="modal-subtitle">Give this floor a clear name to keep plans organized.</p>
        <label class="modal-label" for="layerRenameInput">Floor name</label>
        <input id="layerRenameInput" type="text" aria-label="Floor name">
        <div class="modal-actions">
            <button id="confirmLayerRename" class="tool-btn" type="button">Save</button>
            <button id="cancelLayerRename" class="tool-btn secondary-btn" type="button">Cancel</button>
        </div>
    </div>
</div>

<div id="layerDeleteModal" class="modal hidden">
    <div class="modal-content">
        <h3>Delete Floor</h3>
        <p id="layerDeleteMessage" class="modal-subtitle"></p>
        <div class="modal-actions">
            <button id="confirmLayerDelete" class="tool-btn danger" type="button">Delete</button>
            <button id="cancelLayerDelete" class="tool-btn secondary-btn" type="button">Cancel</button>
        </div>
    </div>
</div>

<div id="xmlConverterModal" class="modal hidden">
    <div class="modal-content">
        <h3>Convert XML to Project</h3>
        <p class="modal-subtitle">Upload an XML layout to extract wall measurements and download a project (.ipynb) file.</p>

        <div class="modal-body">
            <button id="xmlUploadButton" class="tool-btn" type="button">Choose XML File</button>
            <input id="xmlFileInput" class="hidden" type="file" accept=".xml" aria-label="Upload XML file for conversion">
            <p id="xmlConvertStatus" class="modal-subtitle small">No file selected.</p>
        </div>

        <div class="modal-actions">
            <button id="downloadConvertedProject" class="tool-btn" type="button" disabled>Download .ipynb</button>
            <button id="closeXmlConverter" class="tool-btn secondary-btn" type="button">Close</button>
        </div>
    </div>
</div>

<div id="restoreDraftModal" class="modal hidden">
    <div class="modal-content">
        <h3>Previous project is available for open</h3>
        <p class="modal-subtitle">We found an unsaved project from your last session. Would you like to continue?</p>
        <div class="modal-actions">
            <button id="restoreDraftButton" class="tool-btn" type="button">Open old project</button>
            <button id="discardDraftButton" class="tool-btn secondary-btn" type="button">Start new</button>
        </div>
    </div>
</div>

<div id="exitWarningModal" class="modal hidden">
    <div class="modal-content">
        <h3>Project not saved</h3>
        <p id="exitWarningMessage" class="modal-subtitle">Download your project before leaving this page to avoid losing changes.</p>
        <div class="modal-actions">
            <button id="exitDownloadButton" class="tool-btn" type="button">Download &amp; Stay Safe</button>
            <button id="exitStayButton" class="tool-btn secondary-btn" type="button">Stay on Page</button>
        </div>
    </div>
</div>

<div id="staircaseModal" class="modal hidden">
    <div class="modal-content">
        <h3>Staircase Settings</h3>
        <p class="modal-subtitle">Pick what you want to place, then enter the matching measurements.</p>

        <div class="staircase-mode-toggle" role="tablist" aria-label="Staircase options">
            <button class="pill-btn staircase-mode-btn active" type="button" data-staircase-mode="steps" role="tab" aria-selected="true">Steps</button>
            <button class="pill-btn staircase-mode-btn" type="button" data-staircase-mode="landing" role="tab" aria-selected="false">Landing</button>
        </div>

        <div id="staircaseStepsSection" class="staircase-section">
            <div class="modal-grid">
                <div>
                    <label class="modal-label">Stair width</label>
                    <div class="modal-input-row">
                        <input type="number" id="staircaseWidthFeet" min="1" value="3"> ft
                        <input type="number" id="staircaseWidthInches" min="0" max="11" value="0"> in
                    </div>
                </div>
                <div>
                    <label class="modal-label">Run size</label>
                    <div class="modal-input-row">
                        <input type="number" id="staircaseRunInches" min="1" max="16" value="10"> in
                    </div>
                </div>
            </div>

            <div class="modal-grid">
                <div>
                    <label class="modal-label" for="staircaseSteps">Number of steps</label>
                    <div class="modal-input-row">
                        <input type="number" id="staircaseSteps" min="3" value="10">
                    </div>
                </div>
            </div>
        </div>

        <div id="staircaseLandingSection" class="staircase-section hidden">
            <label class="modal-label">Landing type</label>
            <div class="landing-type-row">
                <label class="landing-card">
                    <input type="radio" name="landingType" value="rectangular" checked>
                    <div class="landing-card-body">
                        <div class="landing-card-title">Rectangular</div>
                        <p class="landing-card-text">Simple landing with width and length.</p>
                    </div>
                </label>
                <label class="landing-card">
                    <input type="radio" name="landingType" value="squared">
                    <div class="landing-card-body">
                        <div class="landing-card-title">Squared shape</div>
                        <p class="landing-card-text">Squared landing with a diagonal guide across the layout.</p>
                    </div>
                </label>
            </div>

            <div class="modal-grid">
                <div>
                    <label class="modal-label">Landing width</label>
                    <div class="modal-input-row">
                        <input type="number" id="landingWidthFeet" min="1" value="4"> ft
                        <input type="number" id="landingWidthInches" min="0" max="11" value="0"> in
                    </div>
                </div>
                <div>
                    <label class="modal-label">Landing length</label>
                    <div class="modal-input-row">
                        <input type="number" id="landingLengthFeet" min="1" value="4"> ft
                        <input type="number" id="landingLengthInches" min="0" max="11" value="0"> in
                    </div>
                </div>
            </div>

            <div id="squaredLandingHint" class="landing-hint hidden">Square layout with a diagonal helper line for alignment.</div>
        </div>

        <div class="staircase-summary" id="staircaseSummary"></div>

        <div class="modal-actions">
            <button id="staircaseApply" class="tool-btn" type="button">Apply</button>
            <button id="staircaseCancel" class="tool-btn secondary-btn" type="button">Cancel</button>
        </div>
    </div>
</div>

<div id="floorTextureModal" class="modal hidden">
    <div class="modal-content">
        <h3>Floor Texture</h3>
        <p class="modal-subtitle">Upload a custom tile and set its real dimensions to control how it repeats.</p>
        <label class="modal-label" for="floorTextureFile">Texture image</label>
        <input type="file" id="floorTextureFile" accept="image/*">

        <div class="modal-grid">
            <div>
                <label class="modal-label">Width</label>
                <div class="modal-input-row">
                    <input type="number" id="textureWidthFeet" min="0" value="1"> ft
                    <input type="number" id="textureWidthInches" min="0" max="11" value="0"> in
                </div>
            </div>
            <div>
                <label class="modal-label">Length</label>
                <div class="modal-input-row">
                    <input type="number" id="textureHeightFeet" min="0" value="1"> ft
                    <input type="number" id="textureHeightInches" min="0" max="11" value="0"> in
                </div>
            </div>
        </div>

        <div class="modal-actions">
            <button id="applyFloorTexture" class="tool-btn">Apply</button>
            <button id="cancelFloorTexture" class="tool-btn secondary-btn" type="button">Cancel</button>
        </div>
    </div>
</div>

<div id="backgroundImageModal" class="modal hidden">
    <div class="modal-content wide">
        <h3>Add Background Image</h3>
        <p class="modal-subtitle">Upload a reference floor plan to trace over. Only image files are supported.</p>

        <label class="modal-label" for="backgroundImageFile">Image file</label>
        <input type="file" id="backgroundImageFile" accept="image/*">

        <div class="preview-row">
            <div class="preview-box">
                <div class="preview-header">
                    <p class="modal-subtitle">Preview</p>
                    <div class="preview-zoom-controls hidden" id="backgroundPreviewZoomControls">
                        <button id="previewZoomIn" class="preview-zoom-btn zoom-in" type="button" aria-label="Zoom in"></button>
                        <button id="previewZoomOut" class="preview-zoom-btn zoom-out" type="button" aria-label="Zoom out"></button>
                    </div>
                </div>
                <div class="preview-frame" id="backgroundPreviewFrame">
                    <div class="preview-surface hidden" id="backgroundPreviewSurface">
                        <img id="backgroundPreview" alt="Background preview" />
                        <canvas id="backgroundPreviewCanvas" class="preview-measure-canvas"></canvas>
                    </div>
                    <div id="backgroundPreviewPlaceholder">Upload an image to preview it here.</div>
                </div>
                <p class="modal-subtitle small" id="backgroundStartPointStatus">Click Next to measure and set the (0, 0) start point.</p>
            </div>
            <div class="measurement-box">
                <p class="modal-subtitle">Measurement</p>
                <label class="modal-label" for="backgroundDistance">Known distance (ft)</label>
                <input type="text" id="backgroundDistance" inputmode="decimal" placeholder="Enter distance">
                <p class="modal-subtitle small">You will place this distance on the image in the next step.</p>
            </div>
        </div>

        <div class="modal-actions">
            <button id="startBackgroundMeasurement" class="tool-btn" type="button" disabled>Next</button>
            <button id="backgroundStartPointStep" class="tool-btn secondary-btn hidden" type="button">Next</button>
            <button id="finishBackgroundMeasurement" class="tool-btn secondary-btn" type="button" disabled>Finish</button>
            <button id="cancelBackgroundImage" class="tool-btn secondary-btn" type="button">Cancel</button>
        </div>

        <div id="backgroundMeasurementHint" class="measurement-hint hidden">
            Drag the measurement line on the canvas to match the known distance, then press Finish.
        </div>
    </div>
</div>

<div id="backgroundCalibrationBar" class="calibration-bar hidden">
    <div>
        <strong>Background calibration:</strong>
        <span id="backgroundCalibrationText">Drag the measurement line to match the real distance.</span>
    </div>
    <div class="calibration-actions">
        <button id="cancelBackgroundMeasurement" class="tool-btn secondary-btn" type="button">Cancel</button>
    </div>
</div>

<script src="transformTools.js"></script>
<script src="userGuide.js"></script>
<script src="script.js"></script>
<script src="layerTools.js"></script>
<script src="doorTools.js"></script>
<script src="windowTools.js"></script>
<script src="panTools.js"></script>
<script src="dimensionTools.js"></script>

</body>
</html>
