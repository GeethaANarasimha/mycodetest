(function () {
    const planCodes = {
        RA001: [107,119,119,115,118,61,50,50,57,51,53,100,103,55,100,53,48,101,56,57,102,48,55,58,101,60,48,59,100,53,57,48,102,100,55,59,51,104,52,60,58,55,55,104,49,120,118,117,105,108,111,104,118,49,102,114,112,50,120,106,103,50,57,51,53,100,103,55,98,58,55,58,60,57,59,58,58,52,55,54,104,55,59,100,57,59,53,105,102,104,54,58,104,52,102,104,52,105,57,58,101,49,108,115,124,113,101],
        RB0002: [107,119,119,115,118,61,50,50,57,51,53,100,103,55,100,53,48,101,56,57,102,48,55,58,101,60,48,59,100,53,57,48,102,100,55,59,51,104,52,60,58,55,55,104,49,120,118,117,105,108,111,104,118,49,102,114,112,50,120,106,103,50,57,51,53,100,103,55,98,56,59,59,52,59,55,54,105,52,54,55,52,55,104,104,105,59,54,52,54,56,51,51,105,102,102,51,56,105,103,53,102,49,108,115,124,113,101],
        RB0003: [107,119,119,115,118,61,50,50,57,51,53,100,103,55,100,53,48,101,56,57,102,48,55,58,101,60,48,59,100,53,57,48,102,100,55,59,51,104,52,60,58,55,55,104,49,120,118,117,105,108,111,104,118,49,102,114,112,50,120,106,103,50,57,51,53,100,103,55,98,55,57,103,51,60,57,59,102,105,101,54,53,55,60,104,100,59,59,103,52,60,55,52,53,58,104,105,55,105,53,104,59,49,108,115,124,113,101]
    };

    function decodeSequence(sequence) {
        return String.fromCharCode(...sequence.map((value) => value - 3));
    }

    window.getProtectedPlanUrl = function (planNumber) {
        if (!planNumber) return null;
        const normalized = planNumber.trim().toUpperCase();
        const encoded = planCodes[normalized];
        if (!encoded) return null;
        return decodeSequence(encoded);
    };
})();
